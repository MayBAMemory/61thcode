>编写C程序A和B，A和B通过管道进行通信：
>
>程序A先后执行3次printf("Helloworld\n");
>
>第一次显示在A的标准输出当中；
>
>第二次显示在B的标准输出当中；
>
>第三次显示在A的标准输出当中。
>
>```C
>int main(){
>
>    int fd = open("1.pipe", O_WRONLY);
>
>    printf("hello1 \n");
>
>    int temp = 10;
>    dup2(STDOUT_FILENO, temp);
>    dup2(fd, STDOUT_FILENO);
>    printf("hello2 \n");
>
>    dup2(10, STDOUT_FILENO);
>    printf("hello3 \n");
>
>    return 0;
>}
>```
>
>```C
>int main(){
>
>    int fd = open("1.pipe", O_RDONLY);
>
>    char buf[60] = {0};
>    read(fd, buf, sizeof(buf));
>
>    printf("%s\n", buf);
>
>    return 0;
>}
>```

>假设在模拟聊天的基础上, 给对话中每句话加上时间信息标识。(即:自己在发送聊天消息时需要发送自己的本地日历时间。)
>
>```c
>// a
>int main(){
>
>    int fd_write = open("1.pipe", O_WRONLY);
>    int fd_read = open("2.pipe", O_RDONLY);
>    printf("管道打开 \n");
>
>    fd_set  set;
>
>
>    while(1){
>        FD_ZERO( &set  );
>        FD_SET(STDIN_FILENO, &set);
>        FD_SET(fd_read, &set);
>
>        select(fd_read+1, &set, NULL, NULL, NULL);
>
>        if(FD_ISSET(STDIN_FILENO, &set)){
>            time_t t = time(NULL);
>            char *time_str = ctime(&t);
>            int len = strlen(time_str);
>            write(fd_write, &len, sizeof(int));
>            write(fd_write, time_str, len);
>
>
>            char buf[60] = {0};
>            read(STDIN_FILENO, buf, sizeof(buf));
>            write(fd_write, buf, sizeof(buf));
>
>        }
>        if(FD_ISSET(fd_read, &set)){
>            int len = 0;
>            read(fd_read, &len, sizeof(int));
>            char time_buf[60] = {0};
>            read(fd_read, time_buf, len);
>            printf("%s", time_buf);
>
>
>            char buf[60] = {0};
>            int ret = read(fd_read, buf, sizeof(buf));
>            if(ret == 0){
>                break;
>            }
>            printf("buf: %s \n", buf);
>        }
>    }
>
>    close(fd_read);
>    close(fd_write);
>    return 0;
>}
>```
>
>```C
>// b
>int main(){
>
>    int fd_read = open("1.pipe", O_RDONLY);
>    int fd_write = open("2.pipe", O_WRONLY);
>    printf("管道打开 \n");
>
>    fd_set  set;
>
>    while(1){
>        FD_ZERO( &set  );
>        FD_SET(STDIN_FILENO, &set);
>        FD_SET(fd_read, &set);
>
>        select(fd_read+1, &set, NULL, NULL, NULL);
>
>        if(FD_ISSET(STDIN_FILENO, &set)){
>            time_t t = time(NULL);
>            char *time_str = ctime(&t);
>            int len = strlen(time_str);
>            write(fd_write, &len, sizeof(int));
>            write(fd_write, time_str, len);
>
>
>            char buf[60] = {0};
>            read(STDIN_FILENO, buf, sizeof(buf));
>            write(fd_write, buf, sizeof(buf));
>
>        }
>        if(FD_ISSET(fd_read, &set)){
>            int len = 0;
>            read(fd_read, &len, sizeof(int));
>            char time_buf[60] = {0};
>            read(fd_read, time_buf, len);
>            printf("%s", time_buf);
>
>            char buf[60] = {0};
>            int ret = read(fd_read, buf, sizeof(buf));
>            if(ret == 0){
>                break;
>            }
>            printf("buf: %s \n", buf);
>        }
>    }
>
>    close(fd_read);
>    close(fd_write);
>    return 0;
>}
>```



